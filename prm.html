<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
      (function (m, e, t, r, i, k, a) {
        m[i] =
          m[i] ||
          function () {
            (m[i].a = m[i].a || []).push(arguments);
          };
        m[i].l = 1 * new Date();
        (k = e.createElement(t)),
          (a = e.getElementsByTagName(t)[0]),
          (k.async = 1),
          (k.src = r),
          a.parentNode.insertBefore(k, a);
      })(window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

      ym(70676062, "init", {
        clickmap: true,
        trackLinks: true,
        accurateTrackBounce: true,
      });
    </script>
    <noscript
      ><div>
        <img
          src="https://mc.yandex.ru/watch/70676062"
          style="position: absolute; left: -9999px"
          alt=""
        /></div
    ></noscript>
    <!-- /Yandex.Metrika counter -->

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-MMDNGN7");
    </script>
    <!-- End Google Tag Manager -->

    <meta
      name="description"
      content="Футбольный манеж Матч-Арена. Аренда футбольного поля в г.Пермь. Футбольные турниры, футбол для детей и взрослых в любую погоду"
    />
    <meta
      name="Keywords"
      content="аренда поле,
    футбольный манеж,
    аренда поля,
    футбольный зал,
    футбольные залы,
    аренда футбольного,
    футбольный аренда,
    футбол зал,
    футбол залы,
    аренда футбольного поля,
    мини футбольное поле,
    искусственное футбольное поле,
    футбол в зале,
    крытый манеж,
    мини футбол залы,
    манеж футбол,
    аренда манежа,
    манеж аренда,
    футбольный спортивный зал,
    манеж пермь,
    зал для мини футбола,
    футбол зал аренда,
    мини футбол пермь,
    крытое футбольное поле,
    футбольное поле с искусственным покрытием,
    аренда футбольного зала,
    футбольные залы аренда,
    футбольный зал аренда,
    мини футбол аренда,
    крытый футбольный манеж,
    игровое футбольное поле,
    аренда зала для футбола,
    манеж для футбола,
    игровые площадки футбольные поля,
    футбольное поле играть,
    новые футбольные поля,
    футбольный манеж аренда,
    мини футбольные залы,
    мини футбольный зал,
    футбол поле аренда,
    мини футбол залы аренда,
    спортивные залы футбол,
    спортивный зал футбол,
    взять поле в аренду,
    аренда поля для футбола,
    футбольное поле 8 на 8,
    найти футбольное поле,
    аренда крытого поля,
    аренда мини поля,
    аренда зала для мини футбола,
    футбольное поле лучшие,
    аренда крытого футбольного поля,
    снять футбольное поле,
    маленькое футбольное поле,
    футбольный манеж адрес,
    снять зал для футбола,
    футбольный манеж цена,
    поле в аренду цена,
    залы для игры в футбол,
    аренда мини футбольного поля,
    аренда манежа для футбола,
    футбольное поле манеж,
    манеж урал,
    футбол в зале играть,
    футбольный манеж стоимость,
    аренда поля для мини футбола,
    аренда поля стоимость,
    аренда футбольного поля цена,
    снять поле в аренду,
    аренда мини футбольного зала,
    мини футбольные залы аренда,
    крытый манеж для футбола,
    аренда поля пермь,
    аренда закрытого футбольного поля,
    манеж урал пермь,
    мини футбольные манежи,
    мини футбол манеж,
    аренда футбольного поля пермь,
    футбольный манеж пермь,
    размеры футбольных манежей,
    надувной манеж для футбола,
    манеж футбол цена,
    аренда футбольного поля стоимость,
    аренда манежа для детей,
    крытый футбольный манеж стоимость,
    аренда искусственного футбольного поля,
    аренда зала для мини футбола екатеринбург,
    аренда зала для футбола в пермь,
    аренда спортивного зала мини футбол"
    />
    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Philosopher:ital,wght@0,400;0,700;1,400;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./style.css" />
    <link rel="stylesheet" href="./book-modal.css" />
    <title>Матч-Арена. Футбольный манеж в Перми</title>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-MMDNGN7"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <!-- Выбор города -->
    <div class="wrapper">
      <div class="dropdown">
        <a class="city-selection">Выбрать город</a>
        <div class="dropdown-child">
          <a href="./prm.html">Пермь</a>
          <a href="./ekb.html">Екатеринбург</a>
        </div>
      </div>
    </div>
    <!-- Хэдер -->
    <header>
      <!-- Логотип -->
      <div class="logo">
        <a href="./"><img src="img/logo.png" alt="logo" /></a>
      </div>
      <!-- Меню -->
      <nav class="menu">
        <ul>
          <li><a href="#about">О нас</a></li>
          <li><a href="#booking">Забронировать</a></li>
          <li><a href="#contacts">Контакты</a></li>
        </ul>
      </nav>
      <!-- Хэддер контакты -->
      <ul class="header-contacts">
        <li><img src="./img/ball.svg" />Пермь, ул.Героев Хасана, 105к71</li>
        <li><img src="./img/ball.svg" /><a href="tel:+73422921812">+7 (342) 292-18-12</a></li>
        <li>
          <a href="https://vk.com/match_arena_perm" target="_blank"
            ><img src="img/vk-logo.svg" alt="Vkontakte" width="57" height="57"
          /></a>
          <a href="https://www.instagram.com/match_arena_perm/" target="_blank"
            ><img src="img/instagram-logo.svg" alt="Instagram" width="57" height="57"
          /></a>
        </li>
      </ul>
    </header>
    <!-- Основной контент -->
    <main>
      <h1>Футбольный манеж Матч-Арена</h1>
      <!-- Раздел "О нас" -->
      <section class="about" id="about">
        <h2>О нас</h2>
        <!-- Список преимуществ -->
        <ul>
          <li class="anim">
            <article>
              <div>
                <figure>
                  <img src="img/1-1.jpg" alt="Манеж" />
                </figure>
              </div>
              <div>
                <h3><span>01.</span>Манеж</h3>
                <p>
                  Крытое футбольное пространство, где органично совмещены 2 поля. В нашем манеже Вам
                  не страшен дождь, снег и ветер. Благодаря большим окнам в манеже всегда светло, а
                  в вечернее время работают яркие прожектора. Здесь Вы будете чувствовать себя
                  максимально комфортно, и даже в сильные морозы, после бурной игры, Вас будет ждать
                  горячий душ и ароматный кофе.
                </p>
              </div>
            </article>
          </li>
          <li class="anim">
            <article>
              <div>
                <figure>
                  <img src="img/2-1.jpg" alt="Футбольные поля" />
                </figure>
              </div>
              <div>
                <h3><span>02.</span>Футбольные поля</h3>
                <p>
                  Большие поля для мини- футбола, покрытые Голландским газоном ждут тебя в
                  Футбольном манеже «Матч-Арена». Ворс 6см, обильно посыпан резиновой крошкой, чтобы
                  уберечь ваши суставы от травм. Идеально подходит для формата 5х5 и 6х6.
                </p>
              </div>
            </article>
          </li>
          <li class="anim">
            <article>
              <div>
                <figure>
                  <img src="img/3-1.jpg" alt="Раздевалки" />
                </figure>
              </div>
              <div>
                <h3><span>03.</span>Раздевалки</h3>
                <p>
                  Две комфортабельных раздевалки, разноцветные большие шкафчики, лавочки, которые
                  обрабатываются антисептиком перед каждой командой. Отдельный ключ от шкафчика у
                  каждого игрока команды, что исключает возможность краж и неудобных ситуаций.
                </p>
              </div>
            </article>
          </li>
          <li class="anim">
            <article>
              <div>
                <figure>
                  <img src="img/4-1.jpg" alt="Душевые" />
                </figure>
              </div>
              <div>
                <h3><span>04.</span>Душевые</h3>
                <p>
                  Современные душевые, горячая вода, тропический душ. Шесть отдельных душей, жидкое
                  мыло, шампунь, современная система слива, которая не задерживает воду – всё это
                  создано для Вашего комфорта, чистоты и гигиены.
                </p>
              </div>
            </article>
          </li>
        </ul>
      </section>

      <!-- Блок брони -->
      <section class="booking anim" id="booking">
          <div style="padding: 15px">
            <!--<figure>-->
            <!--    <img src="img/price_list.jpg" alt="Прайс-лист" style="width: 100%;height: auto;"/>-->
            <!--</figure>-->
            </div>
        <div class="price-list">
          <ul>
            <li>
              <span><b>Неотапливаемый зал</b></span>
            </li>  
            <li>
              <span>ПН - ПТ с 00:00 до 18:00</span>
            </li>
            <li>
              <span>ПН - ПТ с 18:00 до 00:00</span>
            </li>
            <li>
              <span>Суббота</span>
            </li>
            <li>
              <span>Воскресенье</span>
            </li>
            <li>
              <span><b>Отапливаемый зал</b></span>
            </li>  
            <li>
              <span>ПН - ПТ с 00:00 до 18:00</span>
            </li>
            <li>
              <span>ПН - ПТ с 18:00 до 00:00</span>
            </li>
            <li>
              <span>Суббота</span>
            </li>
            <li>
              <span>Воскресенье</span>
            </li>
          </ul>
          <ul>
            <li>
              <span> </span>
            </li>
            <li>
              <span>3000 ₽/ч</span>
            </li>
            <li>
              <span>3600 ₽/ч</span>
            </li>
            <li>
              <span>3600 ₽/ч</span>
            </li>
            <li>
              <span>3600 ₽/ч</span>
            </li>
            <li>
            <span> </span>
            </li>
            <li>
              <span>3600 ₽/ч</span>
            </li>
            <li>
              <span>4800 ₽/ч</span>
            </li>
            <li>
              <span>4800 ₽/ч</span>
            </li>
            <li>
              <span>4800 ₽/ч</span>
            </li>
          </ul>
        </div>
        <a class="self_book_btn" href="#open-modal">
          <svg>
            <rect x="0" y="0" fill="none" width="100%" height="100%" />
          </svg>
          Забронировать
        </a>

        <div id="open-modal" class="modal-window">
          <div>
            <a href="#booking" title="Закрыть" class="modal-close">&#10006;</a>
            <h1>Бронирование</h1>
            <div><center>Отправте заявку и мы вам перезвоним!</center></div>
           <div id="booking-app">

  <label>Дата:</label><br>
  <input type="date" id="date"><br><br>

  <label>Поле:</label><br>
  <select id="hall">
    <option value="field-1">Поле №1</option>
    <option value="field-2">Поле №2</option>
  </select>

  <h3>Время</h3>
  <div id="slots"></div>

  <h3>Контакты</h3>
  <input placeholder="Имя" id="name"><br><br>
  <input placeholder="Телефон" id="phone"><br><br>

  <button class="submit_btn" onclick="book()">Забронировать</button>

</div>
          </div>
        </div>
        <div id="success" class="modal-window">
          <div>
            <a href="#booking" title="Закрыть" class="modal-close">&#10006;</a>
            <div class="animation-ctn">
              <div class="icon icon--order-success svg">
                <svg xmlns="http://www.w3.org/2000/svg" width="154px" height="154px">
                  <g fill="none" stroke="#22AE73" stroke-width="2">
                    <circle
                      cx="77"
                      cy="77"
                      r="72"
                      style="stroke-dasharray: 480px, 480px; stroke-dashoffset: 960px"
                    ></circle>
                    <circle
                      id="colored"
                      fill="#22AE73"
                      cx="77"
                      cy="77"
                      r="72"
                      style="stroke-dasharray: 480px, 480px; stroke-dashoffset: 960px"
                    ></circle>
                    <polyline
                      class="st0"
                      stroke="#fff"
                      stroke-width="10"
                      points="43.5,77.8 63.7,97.9 112.2,49.4 "
                      style="stroke-dasharray: 100px, 100px; stroke-dashoffset: 200px"
                    />
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
        <div id="error" class="modal-window">
          <div>
            <a href="#booking" title="Закрыть" class="modal-close">&#10006;</a>
            <div class="animation-ctn">
              <div class="icon icon--order-success svg">
                <svg xmlns="http://www.w3.org/2000/svg" width="154px" height="154px">
                  <g fill="none" stroke="#F44812" stroke-width="2">
                    <circle
                      cx="77"
                      cy="77"
                      r="72"
                      style="stroke-dasharray: 480px, 480px; stroke-dashoffset: 960px"
                    ></circle>
                    <circle
                      id="colored"
                      fill="#F44812"
                      cx="77"
                      cy="77"
                      r="72"
                      style="stroke-dasharray: 480px, 480px; stroke-dashoffset: 960px"
                    ></circle>
                    <polyline
                      class="st0"
                      stroke="#fff"
                      stroke-width="10"
                      points="43.5,77.8  112.2,77.8 "
                      style="stroke-dasharray: 100px, 100px; stroke-dashoffset: 200px"
                    />
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Контакты -->
      <section class="contacts anim" id="contacts">
        <div>
          <h2>Контакты</h2>
          <ul>
            <li>
              <span>Адрес:</span>
              <p>г.Пермь, ул.Героев Хасана, 105к71</p>
            </li>
            <li>
              <span>Телефон:</span>
              <a href="tel:+73422921812">+7 (342) 292-18-12</a>
            </li>
            <li>
              <span>E-mail:</span>
              <a href="mailto:football@leather-ball.ru">football@leather-ball.ru</a>
            </li>
          </ul>
        </div>
        <div class="map">
          <iframe
            src="https://yandex.ru/map-widget/v1/?um=constructor%3A4371a195fd3612d70420242888507b1a0efb53435be95204545dbcb462646536&amp;source=constructor"
            width="500"
            height="400"
            frameborder="0"
          ></iframe>
        </div>
      </section>
    </main>

    <!-- Футер -->
    <footer class="anim">
      <span>Мы в соц.сетях</span>
      <div class="social">
        <a href="https://vk.com/match_arena_perm" target="_blank"
          ><img src="img/vk-logo.svg" alt="Vkontakte" width="57" height="57"
        /></a>
        <a href="https://www.instagram.com/match_arena_perm/" target="_blank"
          ><img src="img/instagram-logo.svg" alt="Instagram" width="57" height="57"
        /></a>
      </div>
    </footer>

    <!-- VK Widget -->
    <script type="text/javascript" src="//vk.com/js/api/openapi.js?140"></script>
    <div id="vk_community_messages">&nbsp;</div>
    <script type="text/javascript">
      VK.Widgets.CommunityMessages("vk_community_messages", 139955222, {
        tooltipButtonText: "Есть вопрос?",
      });
    </script>
    <!-- VK Widget -->

    <script src="https://unpkg.com/imask"></script>
    <script>
const API = "https://match-arena-booking-production.up.railway.app";

const dateInput = document.getElementById("date");
const hallSelect = document.getElementById("hall");
const slotsDiv = document.getElementById("slots");
const nameInput = document.getElementById("name");
const phoneInput = document.getElementById("phone");

let selectedTime = null;
const TIMES = ["18:00", "19:00", "20:00", "21:00"];

function loadSlots() {
  if (!dateInput || !dateInput.value) return;

  fetch(`${API}/availability?date=${dateInput.value}&hall=${hallSelect.value}`)
    .then(res => res.json())
    .then(booked => {
      slotsDiv.innerHTML = "";
      selectedTime = null;

      TIMES.forEach(time => {
        const btn = document.createElement("button");
        btn.textContent = time;
        btn.disabled = booked.includes(time);
        btn.onclick = () => {
          selectedTime = time;
          alert("Вы выбрали: " + time);
        };
        slotsDiv.appendChild(btn);
      });
    });
}

if (dateInput && hallSelect) {
  dateInput.addEventListener("change", loadSlots);
  hallSelect.addEventListener("change", loadSlots);
}

function book() {
  if (!dateInput.value || !selectedTime || !nameInput.value || !phoneInput.value) {
    alert("Заполните все поля");
    return;
  }

  fetch(`${API}/booking`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      date: dateInput.value,
      time: selectedTime,
      hall: hallSelect.value,
      name: nameInput.value,
      phone: phoneInput.value
    })
  })
  .then(res => res.json())
  .then(data => {
    if (data.success) {
      alert("Бронирование успешно!");
      loadSlots();
    } else {
      alert("Ошибка: " + data.error);
    }
  });
}
</script>

    <script src="./page-scripts.js"></script>
    <script>
const API = "https://match-arena-booking-production.up.railway.app";
const TIMES = ["18:00", "19:00", "20:00", "21:00"];

let selectedTime = null;

function initBookingModal() {
  const dateInput = document.getElementById("date");
  const hallSelect = document.getElementById("hall");
  const slotsDiv = document.getElementById("slots");
  const nameInput = document.getElementById("name");
  const phoneInput = document.getElementById("phone");

  if (!dateInput || !hallSelect || !slotsDiv) return;

  function loadSlots() {
    if (!dateInput.value) return;

    fetch(`${API}/availability?date=${dateInput.value}&hall=${hallSelect.value}`)
      .then(res => res.json())
      .then(booked => {
        slotsDiv.innerHTML = "";
        selectedTime = null;

        TIMES.forEach(time => {
          const btn = document.createElement("button");
          btn.textContent = time;
          btn.disabled = booked.includes(time);
          btn.onclick = () => {
            selectedTime = time;
            alert("Вы выбрали: " + time);
          };
          slotsDiv.appendChild(btn);
        });
      });
  }

  dateInput.onchange = loadSlots;
  hallSelect.onchange = loadSlots;

  window.book = function () {
    if (!dateInput.value || !selectedTime || !nameInput.value || !phoneInput.value) {
      alert("Заполните все поля");
      return;
    }

    fetch(`${API}/booking`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        date: dateInput.value,
        time: selectedTime,
        hall: hallSelect.value,
        name: nameInput.value,
        phone: phoneInput.value
      })
    })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        alert("Бронирование успешно!");
        loadSlots();
      } else {
        alert("Ошибка: " + data.error);
      }
    });
  };
}

/* Инициализация ТОЛЬКО при открытии модалки */
document.querySelectorAll('a[href="#open-modal"]').forEach(btn => {
  btn.addEventListener("click", () => {
    setTimeout(initBookingModal, 100);
  });
});
</script>

  </body>
</html>
